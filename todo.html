<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <meta name="theme-color" content="#6366f1">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="manifest" href="manifest.json">
  <title>To‑Do — Portfolio</title>
  <link rel="stylesheet" href="todo.css">
</head>
<body>
  <header class="topbar">
    <a class="back" href="index.html" aria-label="Back to Home">← Home</a>
    <h1>To‑Do</h1>
    <div class="top-actions">
      <button id="calendarToggle" class="icon-btn" aria-label="Toggle calendar">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <rect x="3" y="5" width="18" height="16" rx="2" stroke="currentColor" stroke-width="1.5"/>
          <path d="M16 3v4M8 3v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
          <path d="M3 10h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="icon-label">Calendar</span>
      </button>
      <button id="settingsBtn" class="icon-btn" aria-label="Open settings">⚙️</button>
      <button id="installBtn" class="install-btn" aria-hidden="true">Install</button>
    </div>
  </header>

  <main class="app">
    <section class="new-task">
      <form id="taskForm" autocomplete="off">
        <input id="taskInput" type="text" placeholder="Add a new task..." inputmode="text" aria-label="New task">
        <div class="icon-picker" role="toolbar" aria-label="Choose task icon">
          <button type="button" class="icon-option" data-icon="" title="No icon">None</button>
          <button type="button" class="icon-option" data-icon="icons/bed.svg" title="Bed">
            <img src="icons/bed.svg" alt="Bed icon"/>
          </button>
          <button type="button" class="icon-option" data-icon="icons/writing.svg" title="Writing">
            <img src="icons/writing.svg" alt="Writing icon"/>
          </button>
          <button type="button" class="icon-option" data-icon="icons/exercise.svg" title="Exercise">
            <img src="icons/exercise.svg" alt="Exercise icon"/>
          </button>
        </div>
        <div class="datetime-group">
          <input id="taskDate" type="date" aria-label="Due date">
          <input id="taskTime" type="time" aria-label="Due time">
        </div>
        <button class="add-btn" aria-label="Add task">Add</button>
      </form>
    </section>

    <section class="calendar-section" id="calendarSection" hidden>
      <div class="calendar-header">
        <button id="prevMonth" class="icon-btn" aria-label="Previous month">◀</button>
        <div id="calendarTitle"></div>
        <button id="nextMonth" class="icon-btn" aria-label="Next month">▶</button>
      </div>
      <div id="calendar" class="calendar" role="grid" aria-label="Task calendar"></div>
    </section>

    <section class="filters">
      <div class="left">
        <button data-filter="all" class="filter active">All</button>
        <button data-filter="active" class="filter">Active</button>
        <button data-filter="completed" class="filter">Completed</button>
      </div>
      <div class="right">
        <button id="clearCompleted" class="clear">Clear Completed</button>
      </div>
    </section>

    <section class="list" id="taskList" aria-live="polite"></section>

    <section class="empty" id="emptyState" hidden>
      <p>No tasks yet — add your first task above.</p>
    </section>
  </main>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal" hidden>
    <div class="modal-content">
      <h2>Settings</h2>
      <div class="setting-row">
        <label for="timeFormat">Time format</label>
        <select id="timeFormat">
          <option value="12">12-hour (AM/PM)</option>
          <option value="24">24-hour</option>
        </select>
      </div>
      <div class="setting-row">
        <label><input type="checkbox" id="calendarShowCompleted"> Show completed in calendar</label>
      </div>
      <div class="modal-actions">
        <button id="saveSettings" class="add-btn">Save</button>
        <button id="closeSettings" class="clear">Close</button>
      </div>
    </div>
  </div>

  <script src="todo.js"></script>
</body>
</html>